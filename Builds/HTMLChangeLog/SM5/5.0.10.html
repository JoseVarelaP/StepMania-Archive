<meta charset="UTF-8">
<p>StepMania 5.0.10; release notes compiled and Markdown formatted by <a href="https://github.com/kyzentun">@kyzentun</a>:</p>
<h3 id="this-is-divided-into-three-sections-">This is divided into three sections:</h3>
<ul>
<li>Build visible changes: Items related to compiling or running StepMania.</li>
<li>Player visible changes: Bug fixes and a couple new preferences.</li>
<li>Themer visible changes: Bug fixes, new lua functions, new metrics.</li>
</ul>
<p>Items are roughly grouped into the general part of StepMania they fit into.</p>
<h1 id="build-visible-changes-">Build visible changes:</h1>
<h3 id="running-windows-">Running (Windows):</h3>
<p>Windows users are required to have the <a href="http://www.microsoft.com/en-us/download/details.aspx?id=48145">Visual Studio 2015 Redistributable</a> installed. All Windows users must have the x86 version of the runtime installed. All Windows users who are on a 64-bit operating system are also advised to install the x64 version as well.</p>
<h3 id="compiling-">Compiling:</h3>
<p><a href="https://cmake.org/">Cmake</a> is now required for compiling Stepmania. Read <code>Build/README.md</code> for instructions.<br>Lots of people came asking for help, so this bears repeating.<br>The thread in the release forum has been updated with instructions for compiling on Linux.<br>The linux tar.gz attached to this release was built for amd64 debian.</p>
<p>Additional compilation notes are found at the bottom of this document.</p>
<h1 id="player-visible-changes-">Player visible changes:</h1>
<h3 id="bms-">BMS:</h3>
<ul>
<li>Fixed crash when an unknown type chart was in a bms.</li>
<li>Fixed bug that would load iidx bms files as kb7.</li>
<li>Added myo2 channel layout and kb7 charts. Added preview point and<br>fixed offset support and linear solo bms layout.</li>
</ul>
<h3 id="course-mode-">Course Mode:</h3>
<ul>
<li>Fixed loading of courses that use WORST entries.</li>
</ul>
<h3 id="edit-mode-">Edit Mode:</h3>
<ul>
<li>Current Second display no longer has the global offset added in. Good people were<br>using the Current Second when syncing charts, and having the global offset added in<br>made syncing more difficult.</li>
<li>Fixed crash on missing ScreenMiniMenuTimingDataChangeInformation metrics.</li>
<li>.sm files will no longer be saved when split timing is used because<br>per-chart timing cannot be done in the .sm format.<br>There was some consideration of trying to change the bpm of charts when<br>saving to .sm, changing the bpm of the chart to match the song and moving<br>notes to occur near the same time, but that would cause most notes to be<br>several milliseconds off sync. So the idea of trying to create a similar<br>.sm for compatibility was discarded.<br>This only matters to people using split timing, which means different<br>bpm and stop data for each chart.</li>
<li>Fixed crash on entering edit mode caused by entering edit mode as Player 2.<br>Edit Mode only works as Player 1.</li>
</ul>
<h3>Gameplay:</h3>
<ul>
<li>Fixed problems with disqualification and charts with attacks. If a chart<br>has attacks, and the attack modifier is used to turn them &quot;Off&quot;, then the<br>score is disqualified.<br>Turning on &quot;Random Attacks&quot; also disqualifies the score, even on charts that<br>do not have attacks.</li>
<li>Fixed timing to apply the current music rate to the global<br>offset so that playing at different music rates doesn&#39;t make a chart off<br>sync.</li>
<li>Fixed bug that caused missed holds to be recorded as held in some themes.</li>
<li>Fixed bug that skipped notes on beat 0 in score.</li>
</ul>
<h3 id="noteskins-">Noteskins:</h3>
<ul>
<li>If the fallback for a noteskin is not found, that noteskin is not loaded,<br>to prevent picking it and crashing.</li>
<li>Fixed bug where the hold body doesn&#39;t scroll if it goes off the top of the<br>screen.</li>
<li>Fixed bottomcap when NoteDisplay is zoomed out.</li>
</ul>
<h3 id="preferences-">Preferences:</h3>
<ul>
<li>MaxRegenComboAfterMiss preference brought in.<br>When a step is missed in gameplay, the combo has to get back up to<br>RegenComboAfterMiss before the player starts regaining life. If<br>MaxRegenComboAfterMiss is greater than RegenComboAfterMiss, then each<br>successive miss increases RegenComboAfterMiss until it reaches<br>MaxRegenComboAfterMiss.<br>MaxRegenComboAfterMiss defaults to 5, the same as RegenComboAfterMiss, so<br>there should be no behavior change unless the preference is manually<br>changed.</li>
<li>Fixed crash on Advanced Input Options on OS X caused by the Axis Fix<br>preference not existing on OS X. The preference does nothing on OS X, but<br>the game no longer crashes on that screen.</li>
<li>Added TimingWindowSecondsCheckpoint for the timing window that<br>checkpoint holds allow you to release for.</li>
</ul>
<h3 id="songs-">Songs:</h3>
<ul>
<li>Changed song loading to allow a song to have a blank MusicFile field<br>if the song has any keysounds. A blank MusicFile entry can result from<br>having &#39;#&#39; in the music file name, or be intended for bms files. If the<br>music file name comes up blank, and there are no keysounds, the engine<br>looks in the song folder to find the music file, which makes loading the<br>song slower.</li>
</ul>
<h1 id="themer-visible-changes-">Themer visible changes:</h1>
<h2 id="bug-fixes-and-new-functions-">Bug fixes and new functions:</h2>
<ul>
<li>Bug fixes are marked with [B].</li>
<li>Functions are marked with [F].</li>
<li>Metrics added are marked with [M].</li>
</ul>
<h3 id="general-">General:</h3>
<ul>
<li>Texture Font Generator included again. It was left out by accident.</li>
</ul>
<h3 id="actor-">Actor:</h3>
<ul>
<li>[B] Changed PlayCommandNoRecurse so that setting a theme metric to a<br>function that doesn&#39;t exist doesn&#39;t emit an error.</li>
</ul>
<h3 id="actorframe-">ActorFrame:</h3>
<ul>
<li>[B] ActorFrame:SetDrawByZPosition now returns self. Missed a spot when<br>implementing function chaining.</li>
</ul>
<h3 id="actormultivertex-">ActorMultiVertex:</h3>
<ul>
<li>[B] Fixed bug that <em>sometimes</em> caused diffuse to be applied to verts wrong.</li>
</ul>
<h3 id="actorutil-">ActorUtil:</h3>
<ul>
<li>[B] ActorUtil.ResolvePath and ResolveRelativePath now take a boolean flag<br>to tell if the thing is optional.</li>
</ul>
<h3 id="bitmaptext-">BitmapText:</h3>
<ul>
<li>[F] set_mult_attrs_with_diffuse</li>
</ul>
<h3 id="cryptman-">CryptMan:</h3>
<ul>
<li>[B] Fixed bug that clipped hash strings with zeros.</li>
</ul>
<h3 id="fonts-">Fonts:</h3>
<ul>
<li>Respliced large kanji sprite sheets from 32x106 and 32x61 to 63x54 and<br>48x41 to bring them under 4096 pixels tall, which was causing a forced<br>resize and slowing down loading time. If your theme spends extra time in<br>the black screen phase before the splash screen, check your font image<br>sizes. Aim for the smallest power of 2 size in each dimension, and try to<br>keep both dimensions under 4096.</li>
</ul>
<h3>Gameplay:</h3>
<ul>
<li>[B] Fixed song position updating logic so that the ScreenGameplay:PauseGame<br>lua function actually pauses the game. Start, Select, and Back are all used<br>for different ways of giving up, so the feature remains unused in the<br>default theme.</li>
<li>[B] Fixed Player logic that spammed TNS_AvoidMine repeatedly.</li>
<li>[M] Random background video behavior is now controlled by these<br>three metrics in the Background section:<br>RandomBGStartBeat sets the beat of the music the first random bg occurs on.<br>RandomBGChangeMeasures sets the number of measures between changes.<br>RandomBGChangesWhenBPMChangesAtMeasureStart toggles the behavior in its name.<br>RandomBGEndsAtLastBeat toggles the behavior in its name. Defaults to true.</li>
</ul>
<h3 id="musicwheel-">MusicWheel:</h3>
<ul>
<li>[B] Fixed SetItemPosition so that it actually passes the item index and the<br>number of items to the transform function.</li>
</ul>
<h3 id="screenevaluation-">ScreenEvaluation:</h3>
<ul>
<li>[B] Changed assert that occurs when leaving ScreenGameplay with<br>SM_GoToNextScreen to give more info. (this only matters to certain<br>misbehaving lua scripts that don&#39;t let ScreenGameplay finish the normal<br>way.)</li>
<li>[B] Fixed bug that caused missed holds to be recorded as held in the<br>value returned by PlayerStageStats:GetRadarActual().</li>
</ul>
<h3 id="screenmapcontrollers-">ScreenMapControllers:</h3>
<ul>
<li>[M] If the AutoDismissWarningSecs metric is less than .25 seconds, the<br>warning will not be shown (the TweenOn command for it will not be played).<br>Instead, the NeverShow command will be played. If the NeverShow command<br>does not exist for the warning actor, the warning actor will be set to<br>hibernate forever.</li>
</ul>
<h3 id="sprite-">Sprite:</h3>
<ul>
<li>[F] set_use_effect_clock_for_texcoords</li>
</ul>
<h3 id="song-">Song:</h3>
<ul>
<li>[F] GetMainTitle</li>
</ul>
<h2 id="sextetstream">SextetStream</h2>
<ul>
<li>Now compiled in for all platforms.</li>
</ul>
<h1 id="compiling-part-2-">Compiling (part 2)</h1>
<ul>
<li>Number of jobs used when building ffmpeg can be customized by<br>WITH_FFMPEG_JOBS.</li>
<li>Fixed cmake error when compiling with -DWITH_SSE2=off.</li>
<li>Link with /MT on windows instead of /MD.</li>
<li>Compiling stepmania on Windows with the locale set to Japanese should work now.</li>
<li>Fixed compiling on 32bit linux.</li>
<li>FFmpeg upgraded to 2.1.3 on Windows and Mac OS X.</li>
<li>Fixed cmake WITH_SYSTEM_FFMPEG option.</li>
<li>Symbolic links will be followed to find the actual executable dir.</li>
<li>Minimaid support built in by default instead of off by default.</li>
</ul>
